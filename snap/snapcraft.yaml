name: sololearn # you probably want to 'snapcraft register <name>'
version: '0.1' # just for humans, typically '1.2+git' or '1.3.2'
summary: This is a Snap Electron Web App version for SoloLearn# 79 char long summary.
description: This is a Snap Electron Web App version for SoloLearn.
  
grade: devel # must be 'stable' to release into candidate/stable channels
confinement: strict # use 'strict' once you have the right plugs and slots

parts:
  electron-app:
    source: app/
    plugin: nodejs


    stage-packages:
      - libnotify4
      - libappindicator1
      - libxtst6
      - libnss3
      - libxss1
      - fontconfig-config
      - gconf2
      - libasound2
      - pulseaudio


    after:
      - desktop-gtk3



    override-build: |
      node_modules/.bin/electron-builder
      mkdir $SNAPCRAFT_PART_INSTALL/app
      mv dist/linux-unpacked/* $SNAPCRAFT_PART_INSTALL/app
    prime:
      - -node_modules



apps:
  ubuntu-mate-launchpad:
    command: env TMPDIR=$XDG_RUNTIME_DIR desktop-launch $SNAP/app/sololearn
    plugs:
      - home
      - x11
      - browser-support
      - network
      - gsettings
      - opengl
      - unity7
